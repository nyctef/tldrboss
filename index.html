<!DOCTYPE html>
<html>
  <head>
    <title>tl;dr boss</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
    <script src="components.js"></script>
    <style>
      #dropdown-container {
        position: relative;
        display: flex;
        justify-content: center;
      }

      #instance-name {
        width: 500px;
        height: 50px;
        box-sizing: border-box;
      }

      #results {
        position: absolute;
        top: 50px;
        width: 500px;
        overflow-y: scroll;
        border: 2px solid #d2eff8;
      }

      .result a {
        padding: 10px;
        box-sizing: border-box;
        display: inline-block;
        width: 100%;
      }
      .result a:hover {
        background-color: #f0f0fc;
      }
    </style>
  </head>
  <body>
    <page-container>
      <div style="text-align: center">
        <h1>tl;dr boss</h1>
        <p>look up by instance name:</p>
        <div id="dropdown-container">
          <input type="text" id="instance-name" autocomplete="off" autofocus />
          <div id="results"></div>
        </div>
      </div>
    </page-container>
  </body>
  <script lang="javascript">
    const data = [
        { name: "Sastasha", exp: "ARR", typ: "dungeon", lvl: 15, path: "arr/dng/sastasha.html" },
        // { name: "The Tam-Tara Deepcroft", exp: "ARR", typ: "dungeon", lvl: 16, path: "arr/dng/tam-tara-deepcroft.html" },
        // { name: "Copperbell Mines", exp: "ARR", typ: "dungeon", lvl: 17, path: "arr/dng/copperbell-mines.html" },
        // { name: "Halatali", exp: "ARR", typ: "dungeon", lvl: 20, path: "arr/dng/halatali.html" },
        // { name: "The Thousand Maws of Toto-Rak", exp: "ARR", typ: "dungeon", lvl: 24, path: "arr/dng/thousand-maws-of-toto-rak.html" },
        // { name: "Haukke Manor", exp: "ARR", typ: "dungeon", lvl: 28, path: "arr/dng/haukke-manor.html" },
        // { name: "Brayflox's Longstop", exp: "ARR", typ: "dungeon", lvl: 32, path: "arr/dng/brayflox-longstop.html" },
        // { name: "The Sunken Temple of Qarn", exp: "ARR", typ: "dungeon", lvl: 35, path: "arr/dng/sunken-temple-of-qarn.html" },
        // { name: "Cutter's Cry", exp: "ARR", typ: "dungeon", lvl: 38, path: "arr/dng/cutters-cry.html" },
        // { name: "The Stone Vigil", exp: "ARR", typ: "dungeon", lvl: 41, path: "arr/dng/stone-vigil.html" },
        // { name: "Dzemael Darkhold", exp: "ARR", typ: "dungeon", lvl: 44, path: "arr/dng/dzemael-darkhold.html" },
        // { name: "The Aurum Vale", exp: "ARR", typ: "dungeon", lvl: 47, path: "arr/dng/aurum-vale.html" },
        // { name: "Castrum Meridianum", exp: "ARR", typ: "dungeon", lvl: 50, path: "arr/dng/castrum-meridianum.html" },
        // { name: "The Praetorium", exp: "ARR", typ: "dungeon", lvl: 50, path: "arr/dng/praetorium.html" },
        // { name: "The Wanderer's Palace", exp: "ARR", typ: "dungeon", lvl: 50, path: "arr/dng/wanderers-palace.html" },
        // { name: "Amdapor Keep", exp: "ARR", typ: "dungeon", lvl: 50, path: "arr/dng/amdapor-keep.html" },
        // { name: "Pharos Sirius", exp: "ARR", typ: "dungeon", lvl: 50, path: "arr/dng/pharos-sirius.html" },
        { name: "Anything Gogo's", exp: "ShB", typ: "masked-carnivale", lvl: 70, path: "shb/tmc/anything-gogos.html" },
        { name: "Delubrum Reginae", exp: "ShB", typ: "raid", lvl: 80, path: "shb/bzj/delubrum-reginae.html" },
    ];
    const instanceNameInput = document.getElementById("instance-name");
    const resultsDiv = document.getElementById("results");

    instanceNameInput.addEventListener("keyup", () => {
        const fuse = new Fuse(data, {
            keys: ["name"],
            includeScore: true,
            threshold: 0.4,
        });
        const results = fuse.search(instanceNameInput.value);
        resultsDiv.innerHTML = "";
        if (results.length === 0) {
            resultsDiv.innerHTML = "<p>No results found</p>";
            return;
        }
        results.forEach((result) => {
            const instance = result.item;
            const instanceDiv = document.createElement("div");
            instanceDiv.className = "result";
            instanceDiv.innerHTML = `<a href="${instance.path}">${instance.name} (${instance.exp})</a>`;
            resultsDiv.appendChild(instanceDiv);
        });
    });
  </script>
</html>
